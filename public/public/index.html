<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>AIã¨ä½œã‚‹çŠ¬ã®ç‰©èª</title>
</head>
<body>
  <h1>ğŸ¶ ã‚ãªãŸã ã‘ã®çŠ¬ã®ç‰©èª</h1>

  <label>çŠ¬ã®åå‰ï¼š</label>
  <input type="text" id="dogName"><br><br>

  <label>ç‰©èªã‚¸ãƒ£ãƒ³ãƒ«ï¼š</label>
  <select id="storyType">
    <option value="å†’é™º">å†’é™º</option>
    <option value="æ„Ÿå‹•">æ„Ÿå‹•</option>
    <option value="æ—¥å¸¸">ã»ã®ã¼ã®æ—¥å¸¸</option>
    <option value="ãƒ•ã‚¡ãƒ³ã‚¿ã‚¸ãƒ¼">ãƒ•ã‚¡ãƒ³ã‚¿ã‚¸ãƒ¼</option>
  </select><br><br>

  <label>çŠ¬ã®æ€§æ ¼ï¼š</label>
  <select id="personality">
    <option value="å„ªã—ã„">å„ªã—ã„</option>
    <option value="å…ƒæ°—ã„ã£ã±ã„">å…ƒæ°—ã„ã£ã±ã„</option>
    <option value="è‡†ç—…">è‡†ç—…</option>
    <option value="è³¢ã„">è³¢ã„</option>
  </select><br><br>

  <label>é£¼ã„ä¸»ã¨ã®é–¢ä¿‚ï¼š</label>
  <select id="relationship">
    <option value="å®¶æ—">å®¶æ—</option>
    <option value="è¦ªå‹">è¦ªå‹</option>
    <option value="ç›¸æ£’">ç›¸æ£’</option>
    <option value="å®ˆã£ã¦ãã‚Œã‚‹å­˜åœ¨">å®ˆã£ã¦ãã‚Œã‚‹å­˜åœ¨</option>
  </select><br><br>

  <label>ç‰©èªã®é•·ã•ï¼š</label>
  <select id="length">
    <option value="300">çŸ­ã„ï¼ˆ300æ–‡å­—ï¼‰</option>
    <option value="600">æ™®é€šï¼ˆ600æ–‡å­—ï¼‰</option>
    <option value="1000">é•·ã„ï¼ˆ1000æ–‡å­—ï¼‰</option>
  </select><br><br>

  <label>èªã‚Šå£ï¼š</label>
  <select id="tone">
    <option value="å­ã©ã‚‚å‘ã‘">å­ã©ã‚‚å‘ã‘</option>
    <option value="å¤§äººå‘ã‘">å¤§äººå‘ã‘</option>
    <option value="çµµæœ¬é¢¨">çµµæœ¬é¢¨</option>
    <option value="å°èª¬é¢¨">å°èª¬é¢¨</option>
  </select><br><br>

  <button onclick="createStory()">ç‰©èªã‚’ä½œã‚‹</button>

  <h2 id="title"></h2>
  <p id="story"></p>

  <script>
    async function createStory() {
      const body = {
        dogName: document.getElementById("dogName").value,
        storyType: document.getElementById("storyType").value,
        personality: document.getElementById("personality").value,
        relationship: document.getElementById("relationship").value,
        length: document.getElementById("length").value,
        tone: document.getElementById("tone").value
      };

      const res = await fetch("/generate", {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify(body)
      });

      const data = await res.json();
      document.getElementById("title").innerText = data.title;
      document.getElementById("story").innerText = data.story;
    }
  </script>
</body>
</html>
